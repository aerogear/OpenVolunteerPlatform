<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.53">


<title data-react-helmet="true">Running reference application | Open Volunteer Platform</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Running reference application | Open Volunteer Platform"><meta data-react-helmet="true" name="description" content="## Project Structure"><meta data-react-helmet="true" property="og:description" content="## Project Structure"><meta data-react-helmet="true" property="og:url" content="https://openvolunteer.org/docs/coding">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.2fd7fc14.css">


<link rel="preload" href="/styles.0e8027dc.js" as="script">

<link rel="preload" href="/runtime~main.ad1eb219.js" as="script">

<link rel="preload" href="/main.3add7324.js" as="script">

<link rel="preload" href="/1.fbe8630b.js" as="script">

<link rel="preload" href="/2.efec304b.js" as="script">

<link rel="preload" href="/3.3a074272.js" as="script">

<link rel="preload" href="/1be78505.d0259ca3.js" as="script">

<link rel="preload" href="/20ac7829.cc2f5c4a.js" as="script">

<link rel="preload" href="/17896441.1abf1698.js" as="script">

<link rel="preload" href="/457b76da.5bc434e5.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="OpenVolunteerPlatform Logo"><strong class="navbar__title">OpenVolunteerPlatform</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/gettingstarted">Docs</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/aerogear/OpenVolunteerPlatform" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="OpenVolunteerPlatform Logo"><strong class="navbar__title">OpenVolunteerPlatform</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="right" href="/docs/gettingstarted">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/aerogear/OpenVolunteerPlatform" class="menu__link" position="right">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingstarted">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Feature</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture">Architecture</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference Apps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gettingstartedref">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/docs/coding">Running reference application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/clientref">OVP Client Side</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/serverfullstack">Node.js server</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Customizations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datamodel">Data Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycloak-authz">Keycloak Auth</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/liveupdates">AMQ Live updates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/client">CLI commands</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Running reference application</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="project-structure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-structure" title="Direct link to heading">#</a>Project Structure</h2><ul><li>Volunteer Client Application <code>/client</code></li><li>Admin Application <code>/client-admin</code></li><li>Server Application <code>/server</code></li><li>Data Model Representing System API <code>./model</code></li><li>OpenShift Deployment <code>./.openshift</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="getting-started"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a>Getting Started</h2><ul><li><a href="/docs/Running-Apps-and-Server">Running Apps and Server</a></li><li><a href="/docs/Technical-Details">Technical Details</a></li><li><a href="/docs/Running-Clients-as-Mobile-Applications">Running Clients as Mobile Applications</a></li><li><a href="/docs/Using-MQTT-for-GraphQL-Subscriptions">Using MQTT for GraphQL subscriptions</a></li><li><a href="/docs/Development">Development</a> </li></ul><p><strong>Requirements:</strong></p><ul><li><a href="https://nodejs.org/en/download/">Node.js 12.x</a> or later version</li><li>Docker and Docker Compose</li><li>Access to a running OpenShift instance (<em>Optional</em>)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-apps-and-server"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-apps-and-server" title="Direct link to heading">#</a>Running Apps and Server</h3><ol><li>Install yarn and project dependencies</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span></div></div></div></div></div><ol start="2"><li>Build client admin and client </li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> prepare:all</span></div></div></div></div></div><ol start="3"><li>Start the server</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ./server</span></div><div class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## Wait at least minute for containers to start</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> keycloak:init</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> start</span></div></div></div></div></div><ol start="4"><li>Links to applications should be printed in the console.</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">    ðŸŽ® Ionic PWA application available at http://localhost:4000</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ðŸŽ® Admin PWA application available at http://localhost:4000/admin</span></div></div></div></div></div><p>  By default, the two users that can log into the application are created:</p><ul><li>username: <code>developer</code>; password: <code>developer</code></li><li>username: <code>admin</code>; password: <code>admin</code>
Volunteers can register to the application in the login screen. </li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="technical-details"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#technical-details" title="Direct link to heading">#</a>Technical Details</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="keycloak-integration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#keycloak-integration" title="Direct link to heading">#</a>Keycloak Integration</h4><p>Follow these instructions to set up Keycloak for Authentication/Authorization.</p><ol><li><p>Configure the Keycloak Server</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ./server</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> keycloak:init</span></div></div></div></div></div><p>This command creates the necessary resources in Keycloak and prints instructions you must follow to enable the integration.</p></li><li><p>Follow the printed instructions and copy the JSON configurations to the appropriate locations.
The Starter app and server will read these configurations and the integration will be enabled when they are started.</p><p>By default, the two users that can log into the application are created:</p><ul><li>username: <code>developer</code>, password: <code>developer</code></li><li>username: <code>admin</code>, password: <code>admin</code></li></ul></li></ol><blockquote><p>NOTE: If you&#x27;d like to use demo data users and have them automatically imported in keycloak, run the keycloak init script as below: </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">USE_DEMO_DATA</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> keycloak:init</span></div></div></div></div></div></blockquote><p>This command will create the following usernames:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-log codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">hzaub   </span></div><div class="token-line" style="color:#393A34"><span class="token plain">kudi</span></div><div class="token-line" style="color:#393A34"><span class="token plain">msash</span></div><div class="token-line" style="color:#393A34"><span class="token plain">tgers</span></div><div class="token-line" style="color:#393A34"><span class="token plain">tmaure</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ukon</span></div><div class="token-line" style="color:#393A34"><span class="token plain">wtrocki</span></div></div></div></div></div><p>The password is the same as the username.</p><p>You can use these user names to login into the volunteer client application. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-clients-as-mobile-applications"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-clients-as-mobile-applications" title="Direct link to heading">#</a>Running Clients as Mobile Applications</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="for-ios"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#for-ios" title="Direct link to heading">#</a>For IOS:</h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">client</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn cap add ios</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn run</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">ios</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="for-android"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#for-android" title="Direct link to heading">#</a>For Android:</h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">client</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn cap add android</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn run</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">android</span></div></div></div></div></div><p>When running locally you will need to also enable HTTP traffic.
For example, for Android add <code>android:usesCleartextTraffic#&quot;true&quot;</code> to AndroidManifest.xml</p><p>The project should start in IDE and can be launched as any other native application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-mqtt-for-graphql-subscriptions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-mqtt-for-graphql-subscriptions" title="Direct link to heading">#</a>Using MQTT for GraphQL Subscriptions</h2><p>By default, the platform uses an in memory subscription mechanism that is not recommended for production. For OpenShift deployment, the AMQ MQTT protocol is used. On your local machine, this can be configured using the following steps:</p><ol><li>Go to server/scripts ./mqtt</li><li>Execute docker-compose</li><li>Set the MQTT_HOST variable in the <code>.env</code> file.
<code>MQTT_HOST#127.0.0.1</code></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-on-openshift"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-on-openshift" title="Direct link to heading">#</a>Running On OpenShift</h3><p>Please check out the <a href="platform/.openshift/README.md">.openshift</a> folder for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="development"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#development" title="Direct link to heading">#</a>Development</h2><p>The Starter template is based on the <a href="https://graphback.dev">Graphback</a> open source project. Please follow the Graphback <a href="https://graphback.dev/docs/intro/datamodel">Getting Started Guide</a> to learn how to modify the Open Volunteer Platform.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="executing-graphback-source-generator"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#executing-graphback-source-generator" title="Direct link to heading">#</a>Executing Graphback source generator</h3><p>The  following command generates client side queries and mutations for the client side:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">yarn generate:all</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/aerogear/OpenVolunteerPlatform/edit/master/website/../docs/coding.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/gettingstartedref"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">Â« Getting Started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/clientref"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">OVP Client Side Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#project-structure" class="contents__link">Project Structure</a></li><li><a href="#getting-started" class="contents__link">Getting Started</a><ul><li><a href="#running-apps-and-server" class="contents__link">Running Apps and Server</a></li><li><a href="#technical-details" class="contents__link">Technical Details</a></li><li><a href="#running-clients-as-mobile-applications" class="contents__link">Running Clients as Mobile Applications</a></li></ul></li><li><a href="#using-mqtt-for-graphql-subscriptions" class="contents__link">Using MQTT for GraphQL Subscriptions</a><ul><li><a href="#running-on-openshift" class="contents__link">Running On OpenShift</a></li></ul></li><li><a href="#development" class="contents__link">Development</a><ul><li><a href="#executing-graphback-source-generator" class="contents__link">Executing Graphback source generator</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/gettingstarted">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discordapp.com/invite/mJ7j84m">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/aerogear/OpenVolunteerPlatform">GitHub</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://aerogear.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="AeroGear Logo" src="/img/aerogear.png"></a></div><div>Copyright Â© 2020 AeroGear</div></div></div></footer>
</div>

<script src="/styles.0e8027dc.js"></script>

<script src="/runtime~main.ad1eb219.js"></script>

<script src="/main.3add7324.js"></script>

<script src="/1.fbe8630b.js"></script>

<script src="/2.efec304b.js"></script>

<script src="/3.3a074272.js"></script>

<script src="/1be78505.d0259ca3.js"></script>

<script src="/20ac7829.cc2f5c4a.js"></script>

<script src="/17896441.1abf1698.js"></script>

<script src="/457b76da.5bc434e5.js"></script>


</body>
</html>